#top-content
  #search-bar

#main-content
  #title-bar.row
    .col-lg-2
      .column-header
        =link_to "Featured Carts", "#"
    .col-lg-7
      .column-header
        =link_to "Search Results", "#"
    .col-lg-3
      .column-header
        =link_to "Reviews", "#"
  #featured-bar.col-lg-2.column-left
  #search-results.col-lg-7.column-center
    .column-content
      -@carts.each do |cart|
        .cart{id: "cart_#{cart.id}"}
          .info
            .col-lg-3
              .name=cart.name
              .photo
                -if cart.photos.first
                  =image_tag(asset_path("cw-logo-no-text.jpg"))
                -else
                  =image_tag(cart.photos.first.image_url)
              .rating{"data-score" => cart.rating }
              .categories
                -cart.categories.each do |item|
                  .item=item.name
            .col-lg-5
              .location
                .map
                  = image_tag "http://maps.google.com/maps/api/staticmap?size=250x120&sensor=false&zoom=14&markers=#{cart.lat}%2C#{cart.lon}"

                .meta
                  //Find a way to specify what's streets between
                  .address
                  //Use google maps or geocoding api
                  .trains
            .col-lg-4
              .hours
                -if cart.hours.first
                  .hours-heading Hours
                  -cart.hours.order(:day).each do |item|
                    .item.row
                      .day.col-lg-3=n_to_day(item.day)
                      .start.col-lg-4=n_to_time(item.start)
                      .bridge.col-lg-1 To
                      .end.col-lg-4=n_to_time(item.end)
                -else
                  .hours-heading.warning No hours available
                .add-hours.wheels-form
                  =form_for Hour.new, remote: true, url: cart_hours_path(cart), html: {'data-model' => 'hour', :class => "form-inline"} do |f|
                    .form-group
                      .row
                        =f.select :day, options_for_select(day_options, 1), {}, {class: "form-control"}
                        =f.select :start, options_for_select(time_options, "0800"), {}, {class: "form-control"}
                        =f.select :end, options_for_select(time_options, "0800"), {}, {class: "form-control"}
                      .row
                        = f.submit "Submit", class: "btn btn-primary hours-btn"
          //Slideshow form default, list form when expands
          .menu
            .meta
              .price-range
                .label
                .content
              //Popular items, implement later
              .popular
            .notes-left
            .slideshow
              -cart.menu.menu_items.each do |item|
                //For getting notes on the item
                .item{id: "#{item.id}"}
                  .price=item.price
                  .photo
                    =image_tag(item.photo.image_url)
                  .desc=item.description
            .notes-right
          .reviews
            -cart.reviews.each do |review|
              .user=review.user.name
              .text=review.text
              .rating=review.rating
          .checkins
            -cart.checkins.each do |checkin|
              .user=checkin.user.name
              .photo
                =image_tag(checkin.photos.first.image_url)
              .description=checkin.description
          .expand
  #other-results.col-lg-3.column-right
